--
-- POPULATE TEST DATA
--

-- =========================================================
-- 1) City
-- =========================================================
INSERT INTO City (cid, name, country)
VALUES
    (1, 'Toronto',  'Canada'),
    (2, 'Dubai',    'United Arab Emirates'),
    (3, 'London',   'United Kingdom'),
    (4, 'Tokyo',    'Japan'),
    (5, 'Atlanta',  'United States'),
    (6, 'Paris',    'France');

-- =========================================================
-- 2) Airline
-- =========================================================
INSERT INTO Airline (code, name)
VALUES
    ('AC', 'Air Canada');

-- =========================================================
-- 3) Passenger
-- =========================================================
INSERT INTO Passenger (pid, first_name, last_name, email)
VALUES
    (1, 'Firstname 1', 'Lastname 1', 'passenger1@email.com'),
    (2, 'Firstname 2', 'Lastname 2', 'passenger2@email.com'),
    (3, 'Firstname 3', 'Lastname 3', 'passenger3@email.com');

-- =========================================================
-- 4) Plane
-- =========================================================
INSERT INTO Plane (tail_number, model, airline)
VALUES
    (1, 'Something', 'AC');

-- =========================================================
-- 5) Seat
-- =========================================================
INSERT INTO Seat (sid, plane, row, letter, class)
VALUES
    (1, 1, 1, 'A', 'first'),
    (2, 1, 2, 'A', 'business'),
    (3, 1, 3, 'A', 'economy');

-- =========================================================
-- 6) Airport
-- =========================================================
INSERT INTO Airport (code, name, city)
VALUES
    ('ATL', 'ATL Airport', 5),
    ('CDG', 'CDG Airport', 6),
    ('DXB', 'DXB Airport', 2),
    ('HND', 'HND Airport', 4),
    ('LHR', 'LHR Airport', 3),
    ('YYZ', 'YYZ Airport', 1);

-- =========================================================
-- 7) Route
-- =========================================================
INSERT INTO Route (flight_num, airline, source, destination)
VALUES
    (1, 'AC', 'YYZ', 'DXB'),
    (2, 'AC', 'YYZ', 'LHR'),
    (3, 'AC', 'YYZ', 'HND'),
    (4, 'AC', 'YYZ', 'ATL'),
    (5, 'AC', 'YYZ', 'CDG');

-- =========================================================
-- 8) Flight
--    We create 21 flights exactly as shown:
--    * Fids 1..10 => route=1, all in 2023, departing daily
--    * Fids 11..12 => route=2, 2024 flights
--    * Fids 13..14 => route=3, 2024 flights
--    * Fids 15..16 => route=4, 2024 flights
--    * Fids 17..21 => route=5, 2024 flights
-- =========================================================
INSERT INTO Flight (fid, route, plane, sched_dept, sched_arrival)
VALUES
    -- 2023 flights: route=1, plane=1
    (1,  1, 1, '2023-01-01 10:00', '2023-01-01 18:00'),
    (2,  1, 1, '2023-01-02 10:00', '2023-01-02 18:00'),
    (3,  1, 1, '2023-01-03 10:00', '2023-01-03 18:00'),
    (4,  1, 1, '2023-01-04 10:00', '2023-01-04 18:00'),
    (5,  1, 1, '2023-01-05 10:00', '2023-01-05 18:00'),
    (6,  1, 1, '2023-01-06 10:00', '2023-01-06 18:00'),
    (7,  1, 1, '2023-01-07 10:00', '2023-01-07 18:00'),
    (8,  1, 1, '2023-01-08 10:00', '2023-01-08 18:00'),
    (9,  1, 1, '2023-01-09 10:00', '2023-01-09 18:00'),
    (10, 1, 1, '2023-01-10 10:00', '2023-01-10 18:00'),

    -- 2024 flights: route=2,3,4,5
    (11, 2, 1, '2024-01-01 10:00', '2024-01-01 18:00'),
    (12, 2, 1, '2024-01-02 10:00', '2024-01-02 18:00'),
    (13, 3, 1, '2024-01-03 10:00', '2024-01-03 18:00'),
    (14, 3, 1, '2024-01-04 10:00', '2024-01-04 18:00'),
    (15, 4, 1, '2024-01-05 10:00', '2024-01-05 18:00'),
    (16, 4, 1, '2024-01-06 10:00', '2024-01-06 18:00'),
    (17, 5, 1, '2024-01-07 10:00', '2024-01-07 18:00'),
    (18, 5, 1, '2024-01-08 10:00', '2024-01-08 18:00'),
    (19, 5, 1, '2024-01-09 10:00', '2024-01-09 18:00'),
    (20, 5, 1, '2024-01-10 10:00', '2024-01-10 18:00'),
    (21, 5, 1, '2024-01-11 10:00', '2024-01-11 18:00');

-- =========================================================
-- 9) Departure
--    Matches each Flight's scheduled departure
-- =========================================================
INSERT INTO Departure (fid, date_time)
VALUES
    (1, '2023-01-01 10:00'),
    (2, '2023-01-02 10:00'),
    (3, '2023-01-03 10:00'),
    (4, '2023-01-04 10:00'),
    (5, '2023-01-05 10:00'),
    (6, '2023-01-06 10:00'),
    (7, '2023-01-07 10:00'),
    (8, '2023-01-08 10:00'),
    (9, '2023-01-09 10:00'),
    (10, '2023-01-10 10:00'),
    (11, '2024-01-01 10:00'),
    (12, '2024-01-02 10:00'),
    (13, '2024-01-03 10:00'),
    (14, '2024-01-04 10:00'),
    (15, '2024-01-05 10:00'),
    (16, '2024-01-06 10:00'),
    (17, '2024-01-07 10:00'),
    (18, '2024-01-08 10:00'),
    (19, '2024-01-09 10:00'),
    (20, '2024-01-10 10:00'),
    (21, '2024-01-11 10:00');

-- =========================================================
-- 10) Arrival
--    Matches each Flight's scheduled arrival
-- =========================================================
INSERT INTO Arrival (fid, date_time)
VALUES
    (1, '2023-01-01 18:00'),
    (2, '2023-01-02 18:00'),
    (3, '2023-01-03 18:00'),
    (4, '2023-01-04 18:00'),
    (5, '2023-01-05 18:00'),
    (6, '2023-01-06 18:00'),
    (7, '2023-01-07 18:00'),
    (8, '2023-01-08 18:00'),
    (9, '2023-01-09 18:00'),
    (10, '2023-01-10 18:00'),
    (11, '2024-01-01 18:00'),
    (12, '2024-01-02 18:00'),
    (13, '2024-01-03 18:00'),
    (14, '2024-01-04 18:00'),
    (15, '2024-01-05 18:00'),
    (16, '2024-01-06 18:00'),
    (17, '2024-01-07 18:00'),
    (18, '2024-01-08 18:00'),
    (19, '2024-01-09 18:00'),
    (20, '2024-01-10 18:00'),
    (21, '2024-01-11 18:00');

-- =========================================================
-- 11) FlightPrice
--    Each fid gets 3 classes: business/economy/first, all priced 213.5
-- =========================================================
DO $$
DECLARE i INT;
BEGIN
  FOR i IN 1..21 LOOP
    INSERT INTO FlightPrice (fid, class, price)
    VALUES (i, 'business', 213.5),
           (i, 'economy',  213.5),
           (i, 'first',    213.5);
  END LOOP;
END
$$;

-- =========================================================
-- 12) Booking
--    For test scenario: passenger #1 books all 21 flights
--    same seat=1, price=213.5. For flights 1..10 => date_time in 2023
--    flights 11..21 => date_time in 2024.
-- =========================================================
INSERT INTO Booking (bid, passenger, seat, flight, price, date_time)
VALUES
    -- 2023 bookings (fids = 1..10)
    (1,  1, 1, 1,  213.5, '2023-01-01 09:30'),
    (2,  1, 1, 2,  213.5, '2023-01-01 09:30'),
    (3,  1, 1, 3,  213.5, '2023-01-01 09:30'),
    (4,  1, 1, 4,  213.5, '2023-01-01 09:30'),
    (5,  1, 1, 5,  213.5, '2023-01-01 09:30'),
    (6,  1, 1, 6,  213.5, '2023-01-01 09:30'),
    (7,  1, 1, 7,  213.5, '2023-01-01 09:30'),
    (8,  1, 1, 8,  213.5, '2023-01-01 09:30'),
    (9,  1, 1, 9,  213.5, '2023-01-01 09:30'),
    (10, 1, 1, 10, 213.5, '2023-01-01 09:30'),

    -- 2024 bookings (fids = 11..21)
    (11, 1, 1, 11, 213.5, '2024-01-01 09:30'),
    (12, 1, 1, 12, 213.5, '2024-01-01 09:30'),
    (13, 1, 1, 13, 213.5, '2024-01-01 09:30'),
    (14, 1, 1, 14, 213.5, '2024-01-01 09:30'),
    (15, 1, 1, 15, 213.5, '2024-01-01 09:30'),
    (16, 1, 1, 16, 213.5, '2024-01-01 09:30'),
    (17, 1, 1, 17, 213.5, '2024-01-01 09:30'),
    (18, 1, 1, 18, 213.5, '2024-01-01 09:30'),
    (19, 1, 1, 19, 213.5, '2024-01-01 09:30'),
    (20, 1, 1, 20, 213.5, '2024-01-01 09:30'),
    (21, 1, 1, 21, 213.5, '2024-01-01 09:30');